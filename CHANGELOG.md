# CHANGELOG

## 2020-05-08: v1.1.0

- Updated README (#32)
- Added dynamic ControlPath definition (#31):
  In order to solve the problem of unnecessary `LocalForward` definitions
  when creating multiple connections to the same host, a scenario that
  occurs when a control path is used, specifying the `ControlPath` dynamically
  allows detection of an active connection. When the first connection is created
  the `ControlPath` is generated by SSH and we save the ports in the cache
  directory. For the next connection, if the `Controlpath` is still in existence
  then we can specify identical `LocalForward` entries without an issue.
- Added locking mechanism for write operations (#30):
  In multi-user environments it is possible that more than one user attempts to perform
  operations against the same key in Vault storage. The user's operation must now 
  acquire a lock to be able to perform a write operation against the storage layer
- Add connection search (#29):
  The user can now `search` the existing list of connection using partial patterns,
  or even regular expressions; partial expressions must still compile as a regex
- Added argument checker for better UX (#28):
  Some basic argument checking is performed to help avoid common issues and 
  aborting early on in the execution process.
- Enhance caching (#27):
  Caching operations and updates now take part when performing write operations
  instead of only when requesting a connection for use. The normal cache expiry
  operations take part during this process.
- Added support for representing the config in JSON format (#26):
  For use internally, the config can now be converted to JSON by calling the
  `Settings.ToJSON` function. 
- Added dev-vault to Makefile (#25):
  A test Vault container can be created and unlocked using `make dev-vault`
- Partial updates (#24):
  The user can now apply an update to an existing connection by using `update`
  instead of `write`. An error will now occur when trying to use `write` with 
  an existing entry, or trying to use `update` with a non-existent one.
- Major refactor of code (#22):
  Extensive code rewrite to solve some problems that arose when adding new
  features and fixing some bugs.

Please see [README.md](README.md) for more details.

## 2021-01-25: v1.0.1

- Makefile improvements (#17):
  Various improvements relating to build operations.
- Enable comments to be applied to a rendered config (#15):
  Added `--comment` to enable users to add contextual information, useful when
  generating content for `~/.ssh/config`, etc
- Format port forwarding links to allow "open link" (#16):
  HTTP links are generated, which the user's terminal should interpret and 
  allow them to open in their browser.
- Force xz compression (#14):
  Use `-f` when compressing the binaries so as to be able to avoid
  extra calls to purge beforehand.
- Added shell completion support (#13):
  Initial support for generating shell completion.
- Improved builds via Makefile (#11):
  Support has been added to build both Linux and MacOS binaries and
  optionally rsync them to target destination for downloading.
- Refactor vault.WriteSecret (#9):
  `vault.WriteSecret` is now aligned with the other helpers. It now accepts a 
  preformatted path instead of just the key.
- Add option to delete entries (#8):
  User may now remove entries without the need for direct use of the Vault client.

Please see [README.md](README.md) for more details.

## 2020-02-14: v1.0.0

First release version of ssh_ms, including the following features:
- Connect to a remote host using a shared configuration from Vault
- Writing SSH configuration to Vault
- Listing existing configurations
- Show a configuration to allow redirection to ~/.ssh/config, etc
- Local caching of configurations (1w ttl)
- Integration with vault login to use stored token

Please see [README.md](README.md) for more details.
